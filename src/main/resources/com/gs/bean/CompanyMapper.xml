<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gs.dao.CompanyDAO">

	<resultMap id="companyResultMap" type="company">

	</resultMap>

	<insert id="insert"  parameterType="company">
		<![CDATA[
			insert into t_company (companyId,companyName,companyAddress,companyTel,companyPricipal,companyWebsite,companyLogo,companyOpenDate,companySize,companyLongitude,companyLatitude,companyDes,companyStatus) values (UUID(),#{companyName},#{companyAddress},#{companyTel},#{companyPricipal},#{companyWebsite},#{companyLogo},#{companyOpenDate},#{companySize},#{companyLongitude},#{companyLatitude},#{companyDes},'Y')
		]]>
	</insert>

	<insert id="batchInsert"  parameterType="list">
		<![CDATA[

		]]>
	</insert>

	<delete id="delete" parameterType="company">
		<![CDATA[

		]]>
	</delete>

	<delete id="deleteById" parameterType="string">
		<![CDATA[

		]]>
	</delete>

	<delete id="batchDelete" parameterType="list">
		<![CDATA[

		]]>
	</delete>

	<update id="update" parameterType="company">
		<![CDATA[

		]]>
	</update>

	<update id="batchUpdate" parameterType="list">
		<![CDATA[

		]]>
	</update>

	<select id="queryAll" resultMap="companyResultMap">
		<![CDATA[
			select * from t_company
		]]>
	</select>

	<select id="queryByStatus" resultMap="companyResultMap" parameterType="string">
		<![CDATA[

		]]>
	</select>

	<select id="query" parameterType="company" resultType="company">
		<![CDATA[
			select * from t_company
		]]>
		Ma
	</select>

	<select id="queryById" parameterType="string" resultType="company">
		<![CDATA[

		]]>
	</select>

	<select id="queryByPager" resultType="list" resultMap="companyResultMap" parameterType="com.gs.common.bean.Pager">
		<![CDATA[
			select * from t_company where 1 = 1
			<if test="companyId != null and user.companyId != ''">
				and companyId = #{user.companyId}
			</if>
			limit #{pager.beginIndex}, #{pager.pageSize}
		]]>
	</select>

	<select id="count" resultType="int">
		<![CDATA[
			select count(companyId) from t_company where 1 = 1
			<if test="companyId != null and user.companyId != ''">
				and companyId = #{user.companyId}
			</if>
		]]>
	</select>

	<select id="statusCount" resultType="int" parameterType="string">
		<![CDATA[
			select count(companyId) from t_company where companyStatus = #{status}
		]]>
	</select>

	<update id="inactive" parameterType="string">
		<![CDATA[
			update t_company set companyStatus = 'N' where companyId = #{companyId}
		]]>
	</update>

	<update id="active" parameterType="string">
		<![CDATA[
			update t_company set companyStatus = 'Y' where companyId = #{companyId}
		]]>
	</update>

	<select id="queryByStatusPager" resultMap="companyResultMap" parameterType="com.gs.common.bean.Pager">
		<![CDATA[
			select * from t_company where companyStatus = #{status} limit #{pager.beginIndex}, #{pager.pageSize}
		]]>
	</select>

</mapper>
